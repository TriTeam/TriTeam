<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="basic.css" />
    <link rel="stylesheet" href="natjecatelji.css" />
    <title>TriTeam Fantasy - Stats Center</title>
    <meta
      name="description"
      content="View detailed statistics for all competitors in TriTeam Fantasy"
    />
    <link rel="icon" href="logo.webp" type="image/webp" />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div id="loader">
      <div class="loader-content">
        <img src="logo.webp" alt="Loading" />
        <div class="loader-text">LOADING FANTASY</div>
        <div class="loader-progress">
          <div class="progress-bar"></div>
        </div>
      </div>
    </div>
    <div id="sve">
      <div class="header">
        <div id="menu">          <span>------</span><span>------</span><span>------</span></div>
        <div onclick="home()" class="naslov">
          <div class="Tri">Tri</div>
          <div class="Team">Team</div>
        </div>
        <div onclick="htl()" class="htl">HTL</div>
        <div onclick="profile()" id="profile"></div>
      </div>

      <div id="content" class="content">
        <h1 class="page-title">Stats Center</h1>

        <div class="stats-controls">
          <div class="search-box">
            <input
              type="text"
              id="searchInput"
              placeholder="Search competitors..."
            />
            <div class="search-icon">üîç</div>
          </div>

          <div class="filter-controls">
            <select id="genderFilter">
              <option value="all">All Genders</option>
              <option value="M">Men</option>
              <option value="Z">Women</option>
            </select>

            <select id="sortBy">
              <option value="points">Sort by Points</option>
              <option value="podiums">Sort by Podiums</option>
              <option value="value">Sort by Value</option>
              <option value="name">Sort by Name</option>
            </select>
          </div>
        </div>

        <div class="stats-summary">
          <div class="summary-card">
            <div class="summary-value" id="totalCompetitors">0</div>
            <div class="summary-label">Competitors</div>
          </div>
          <div class="summary-card">
            <div class="summary-value" id="avgPoints">0</div>
            <div class="summary-label">Avg Points</div>
          </div>
          <div class="summary-card">
            <div class="summary-value" id="totalRaces">0</div>
            <div class="summary-label">Races</div>
          </div>
          <div class="summary-card">
            <div class="summary-value" id="topValue">$0</div>
            <div class="summary-label">Top Value</div>
          </div>
        </div>

        <div class="stats-table-container">
          <div class="scroll-hint">All data is from 2025!!!</div>
          <table class="stats-table">
            <thead>
              <tr>
                <th class="th-rank">#</th>
                <th class="th-competitor">Competitor</th>
                <th class="th-club">Club</th>
                <th class="th-gender">Gender</th>
                <th class="th-value">Value</th>
                <th class="th-points">Points</th>
                <th class="th-podiums">Podiums</th>
                <th class="th-races">Last 3 Races</th>
              </tr>
            </thead>
            <tbody id="statsTableBody">
              <!-- Table rows will be populated by JavaScript -->
            </tbody>
          </table>
        </div>

        <div id="noResults" class="no-results">
          No competitors found matching your search.
        </div>

        <div id="competitorDetail" class="competitor-detail">
          <div class="detail-header">
            <button class="close-button" id="closeDetail">√ó</button>
            <h2 id="detailName">Competitor Name</h2>
            <div class="detail-subtitle">
              <span id="detailClub">Club Name</span> ‚Ä¢
              <span id="detailGender">Gender</span>
            </div>
          </div>

          <div class="detail-stats">
            <div class="detail-stat-card">
              <div class="stat-value" id="detailValue">$0</div>
              <div class="stat-label">Value</div>
            </div>
            <div class="detail-stat-card">
              <div class="stat-value" id="detailPoints">0</div>
              <div class="stat-label">Total Points</div>
            </div>
            <div class="detail-stat-card">
              <div class="stat-value" id="detailPodiums">0</div>
              <div class="stat-label">Podiums</div>
            </div>
            <div class="detail-stat-card">
              <div class="stat-value" id="detailRaces">0</div>
              <div class="stat-label">Races</div>
            </div>
          </div>

          <h3>Race History</h3>
          <div class="race-history" id="raceHistory">
            <!-- Race history will be populated by JavaScript -->
          </div>
        </div>
      </div>

      <div id="root" class="root">
        <div id="ig">
          Follow us on Instagram
          <a href="https://www.instagram.com/triteam_fantasy/" target="_blank">
            <img
              src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
              alt="Instagram"
              width="30"
              height="30"
              style="vertical-align: middle"
            />
          </a>
        </div>
        <div>
          <a
            href="https://wa.me/?text=Join me in TriTeam Fantasy - the ultimate triathlon fantasy game! https://triteam.site"
            target="_blank"
            style="
              color: white;
              background-color: #25d366;
              padding: 8px 16px;
              border-radius: 20px;
              text-decoration: none;
              display: inline-block;
              margin-top: 10px;
            "
          >
            Share on WhatsApp
          </a>
          <div style="display: flex; justify-content: center; margin-top: 15px">
            <div onclick="htl()" class="htl">HTL</div>
            <div onclick="home()" class="naslov">
              <div class="Tri">Tri</div>
              <div class="Team">Team</div>
            </div>
          </div>
        </div>
      </div>
      <div id="menubar">
        <div><a href="index.html">Team</a></div>
        <div><a href="utrke.html">Races</a></div>
        <div><a href="natjecatelji.html">Stats Center</a></div>
        <hr />
        <div><a href="rank.html">Rank</a></div>
        <div><a href="help.html">Help</a></div>
      </div>
    </div>
    <script src="index.js"></script>
    <script type="module" src="ulogiravanje.js"></script>
    <script type="module" src="stats-center.js"></script>
    <script>
      // Enhanced loader
      document.addEventListener("DOMContentLoaded", () => {
        const loader = document.getElementById("loader");
        const content = document.getElementById("sve");

        // Simulate loading progress
        setTimeout(() => {
          if (loader) {
            loader.style.opacity = "0";
            setTimeout(() => {
              loader.style.display = "none";
              if (content) {
                content.style.display = "flex";
                setTimeout(() => {
                  content.style.opacity = "1";
                }, 50);
              }
            }, 500);
          }
        }, 1500);
      });
    </script>
  </body>
</html>
